<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xml-Parser</title>
    <style>
        .cellStyle
        {
            background-color: gray;
        }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
</head>
<body>
<table cellspacing="5px" id="test_tbl" width="1000px">
    <tr>
        <th class="cellStyle">ID</th>
        <th class="cellStyle">Name</th>
        <th class="cellStyle">Description</th>
        <th class="cellStyle">Type</th>
        <th class="cellStyle">Value</th>
    </tr>
    <tr>
        <td class="cellStyle">1</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle"><button id="edit1" onclick="editTableString()">edit</button></td>
        <td class="cellStyle"><button id="del1" onclick="delTableString()">del</button></td>
    </tr>
    <tr>
        <td class="cellStyle">1</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle">test</td>
        <td class="cellStyle"><button id="edit2" onclick="editTableString()">edit</button></td>
        <td class="cellStyle"><button id="del2" onclick="delTableString()">del</button></td>
    </tr>
</table>
<div id="edit_div" class="pad3 bg bord abs dis" style="display:none">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="button" value="Сохранить" id="save_but">
    <input type="button" value="Отменить" id="cancel_but">
</div>
<p>Тестовый текст для проверки анимации</p>
<button id="add">Add</button>
<div id="add_div" class="pad3 bg bord abs dis" style="display:none">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="text" size="20%">
    <input type="button" value="Добавить" id="add_but">
    <input type="button" value="Отменить" id="cancel_add_but">
</div>
<button class="test">Тестим запрос с сервака</button>
<script type="text/javascript">
    var tr;
    function edit_appearence(){
        $('#edit_div').slideToggle(200);

    }
    function add_appearence(){
        $('#add_div').slideToggle(200);

    }

    function editTableString()
    {
        edit_appearence();
        tr = $(event.target).parent().parent();
        for(var i=0; i<5; i++)

            $('input:eq(' + i + ')', '#edit_div').val($('td:eq(' + i + ')', tr).text());
    }
    function delTableString()
    {
        if(!confirm("Delete?")) return;
        $(event.target).parent().parent().remove();
    }
    $('#save_but','#edit_div').click(function (){

        for(var i=0; i<5; i++)

        $('td:eq('+i+')',tr).text($('input:eq('+i+')','#edit_div').val());

        edit_appearence();

    });

    $('#cancel_but','#edit_div').click(edit_appearence);
    $('#add').click(function() {
        $('#add').slideToggle(200);
        add_appearence();
        }
    );
    $('#cancel_add_but','#add_div').click(function(){
        add_appearence();
        $('#add').slideToggle(200);
    })
    $('#add_but','#add_div').click(function(){
        $('#add').slideToggle(200);
        var opa='<tr>';
        for (var i=0;i<5;i++)
            opa=opa+"<td class='cellStyle'>"+$('input:eq('+i+')','#add_div').val()+"</td>";
        opa=opa+"<td class='cellStyle'><button class='edit'>edit</button></td><td class='cellStyle'> <button class='del'>del</button></td>"+"</tr>";
        var lol=$(opa);
        lol.find('.edit').bind('click',editTableString);
        lol.find('.del').bind('click',delTableString);
        $("#test_tbl").last().append(lol);
        add_appearence();

    })
    $('button.test').click(function()
    {
        alert("sdfsdfsdfs");
        $.ajax({
            url:"http://127.0.0.1:1337/getThatBitch"
            , type:"POST"
            , data:"bibliash22="
            , success: function(res) {
                alert(res);
            }
        });

    })
</script>
</body>
</html>